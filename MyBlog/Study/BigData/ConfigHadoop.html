<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>集群环境搭建</title>
		<meta name="keywords" content="¸öÈË²©¿Í,ÑîÇà¸öÈË²©¿Í,¸öÈË²©¿ÍÄ£°å,ÑîÇà" />
		<meta name="description" content="ÑîÇà¸öÈË²©¿Í£¬ÊÇÒ»¸öÕ¾ÔÚwebÇ°¶ËÉè¼ÆÖ®Â·µÄÅ®³ÌÐòÔ±¸öÈËÍøÕ¾£¬Ìá¹©¸öÈË²©¿ÍÄ£°åÃâ·Ñ×ÊÔ´ÏÂÔØµÄ¸öÈËÔ­´´ÍøÕ¾¡£" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="../../css/base.css" rel="stylesheet">
		<link href="../../css/index.css" rel="stylesheet">
		<link href="../../css/m.css" rel="stylesheet">
		<link href="../../css/directory.css" rel="stylesheet">
		<!--[if lt IE 9]>
<script src="js/modernizr.js"></script>
<![endif]-->
	</head>
	<body>
		<header>
  			<div class="tophead">
    				<div class="logo"><a href="iOSTable.html">赵博个人博客</a></div>
 		 	</div>
		</header>
		<article>
			<h1 class="t_nav"><a href="BigDataList.html" class="n1">目录</a></h1>
			<div class="bigDataDiv">
    				<div class="mt20"></div>
    				<li>
	      			<h2 class="blogtitle">集群环境搭建</h2>
	      			<h3 class="blogtitle">配置java环境</h3>
	      			<p>Linux下 cd /usr/</p>
	      			<p>mkdir apps</p>
	      			<h4>安装java：2种方法</h4>
	      			<p>官网有.rmp与.tar.gz 2种包下哪个都行</p>
	      			<h4>安装java：第一种.rpm方法</h4>
					<img class="showPic" src="../StudyImg/BigDataImg/bigData01.png"/>
					<p>rpm -ivh jdk1.8.0.rpm /usr/apps</p>
					<p>java -version<span class="annotation">#能输出则证明安装成功</span></p>
					<p>find / -name java<span class="annotation">#查看java路径</span></p>
					<p>vi /etc/profile<span class="annotation">#配置路径</span></p>
					<p>JAVA_HOME=/usr/java/jdk1.8.0_181-amd64</p>
					<p>PATH=.:$PATH:$JAVA_HOME/bin</p>
					<p>export JAVA_HOME PATH</p>
					<p>source /etc/profile <span class="annotation">#重启配置文件</span></p>
					<hr />
					<h4>安装java：第二种.tar.gz方法</h4>
					<p>tar -zxvf jdk-x.x.x.tar.gz ~/usr/local  <span class="annotation">#解压包</span></p>
					<p>与上面一样</p>
					<p>安装完就可以把源码包删除了</p>
					<p>rm -rf jdk-x.x.x.rmp</p>
					<em class="logoTile">以上就是java环境搭建</em>
					<hr />
    				</li>
    				<li>
	      			<h3>安装hadoop</h3>
	      			<p>hadoop为集群所以最少需要3台Linux机器</p>
					<img class="showPic" src="../StudyImg/BigDataImg/bigData02.png"/>
					<p>tar -zxvf hadoop-3.1.1.gz -C  /usr/apps/ <span class="annotation">#解压文件</span></p>
					<p>进入对应目录</p>
					<p>cd share/</p>
					<p>rm -rf doc/ <span class="annotation">#doc就是文档很大删掉</span></p>
					<h4>配置hadoop环境</h4>
					<p>3.0以后需要配置6个文件</p>
					<p> 
						hadoop-3.0.0/etc/hadoop/hadoop-env.sh <br />
        					hadoop-3.0.0/etc/hadoop/yarn-env.sh  <br />
        					hadoop-3.0.0/etc/hadoop/core-site.xml <br /> 
       					hadoop-3.0.0/etc/hadoop/hdfs-site.xml  <br />
        					hadoop-3.0.0/etc/hadoop/mapred-site.xml <br />
       				    hadoop-3.0.0/etc/hadoop/yarn-site.xml
					</p>
					<h5>1）配置hadoop-env.sh</h5>
					<p style="color: green;">#The java implementation to use ...</p>
					<p>export JAVA_HOME=/usr/java/jdk1.8.0_181-amd64</p>
					<h5>2）配置core-site.xml</h5>
					<pre>
&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;fs.defaultFS&lt;/name&gt;
		&lt;value&gt;hdfs://192.168.219.11:9000/&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;
					</pre>
					<h5>3）配置hdfs-site.xml</h5>
					<span class="annotation">&lt;!—其他的机器不需要配置第一个property块--&gt;</span>
					<pre>
&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;
		&lt;value&gt;/root/hdpdata/name&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;
		&lt;value&gt;/root/hdpdata/data&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;
					</pre>
					<br />
					<p>vi /etc/profile</p>
					<p>JAVA_HOME=/usr/java/jdk1.8.0_181-amd64br<br />
					   export HADOOP_HOME=/usr/apps/hadoop-3.1.1<br />
					   PATH=.:$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin<br />
					   export JAVA_HOME  PATH
					</p>
					<p>发给其他台scp -r hadoop3.1.1/192.168.219.12 /usr/apps/</p>
					<hr />
					<h4>启动hadoop</h4>
					<p>hadoop namenode -format <span class="annotation">#第一台机器（namenode）初始化</span></p>
					<p>bash start-all.sh <span class="annotation">启动五大进程</span></p>
    				</li>
    			</div>
		</article>
		
	</body>
</html>
